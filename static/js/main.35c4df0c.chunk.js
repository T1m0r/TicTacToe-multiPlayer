(this["webpackJsonpTicTacToe-multiPlayer"]=this["webpackJsonpTicTacToe-multiPlayer"]||[]).push([[0],{25:function(t,e,s){},29:function(t,e,s){},30:function(t,e,s){},31:function(t,e,s){},32:function(t,e,s){},33:function(t,e,s){},34:function(t,e,s){"use strict";s.r(e);var n=s(3),a=s(8),i=s.n(a),c=s(15),o=s.n(c),l=(s(25),s(16)),r=s(17),d=s(11),b=s(19),u=s(18),j=s(10),f=(s(29),s(30),function(t){return Object(n.jsx)("button",{onClick:function(){return t.onTic(t.field.id)},className:"tic-panel panel_".concat(t.field.id),children:t.field.symbol})}),h=function(t){return Object(n.jsxs)("div",{className:"game-grid",children:[t.fields.map((function(e){return Object(n.jsx)(f,{onTic:t.onTic,field:e},e.id)})),Object(n.jsx)("div",{className:"strikethrough ".concat(t.strikeClass),children:Object(n.jsx)("div",{})})]})},m=(s(31),function(t){var e=t.stats;return Object(n.jsxs)("div",{class:"stats",children:[Object(n.jsx)("h1",{children:"Stats"}),Object(n.jsxs)("h3",{children:["O-wins: ",e.wins_O]}),Object(n.jsxs)("h3",{children:["X-wins: ",e.wins_X]}),Object(n.jsxs)("h3",{children:["Draws: ",e.draws]})]})}),p=(s(32),function(t){var e=t.won,s=t.turn;return Object(n.jsxs)("div",{class:"text",children:[Object(n.jsx)("h1",{class:"heading",children:"Tic Tac Toe"}),!1===e&&Object(n.jsxs)("p",{class:"turn-indicator",children:["It is ",s,"'s turn"]})]})}),O=(s(33),{apiKey:"AIzaSyA57LUFFVsY5BpBeu3m0pV-Sg8bJN0Vs_g",authDomain:"tictactoe-45218.firebaseapp.com",databaseURL:"https://tictactoe-45218-default-rtdb.europe-west1.firebasedatabase.app",projectId:"tictactoe-45218",storageBucket:"tictactoe-45218.appspot.com",messagingSenderId:"49023242257",appId:"1:49023242257:web:d5c0384bd3e9148653e1b0"}),w=function(t){Object(b.a)(s,t);var e=Object(u.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).onTick=function(t){if(!n.state.won){var e=t-1,s=n.state.fields.slice();if(""===s[e].symbol){var a=n.state.turn;s[e].symbol=a,a="O"===a?"X":"O",n.setState({fields:s,turn:a},(function(){j.a.database().ref("/").set(n.state)})),n.checkWin()}}},n.checkWin=function(){for(var t=n.state.fields.slice(),e=1;e<=t.length;e+=3)""!==t[e].symbol&&t[e-1].symbol===t[e].symbol&&t[e].symbol===t[e+1].symbol&&n.updateScore(t[e].symbol,e,"row");for(var s=0;s<=2;s++)""!==t[s+3].symbol&&t[s].symbol===t[s+3].symbol&&t[s+3].symbol===t[s+6].symbol&&n.updateScore(t[s].symbol,s,"col");""!==t[4].symbol&&(t[0].symbol===t[4].symbol&&t[4].symbol===t[8].symbol&&n.updateScore(t[4].symbol,4,"diag-left"),t[2].symbol===t[4].symbol&&t[4].symbol===t[6].symbol&&n.updateScore(t[4].symbol,4,"diag-right"));for(var a=!0,i=0;i<9;i++)""===t[i].symbol&&(a=!1);a&&n.updateScore("Draw")},n.updateScore=function(t,e,s){if("Draw"===t){console.log("Win for Team ",t);var a=n.state.stats;a.draws+=1,n.setState({won:!0,winner:t,stats:a})}else{console.log("Win for Team ",t);var i,c=n.state.stats;i="row"===s?(e+2)/3:"col"===s?e+1:e;var o="".concat(s,"-general ").concat(s,"-").concat(i,"-strike");"O"===t?c.wins_O+=1:c.wins_X+=1,n.setState({won:!0,winner:t,stats:c,winnerClass:o})}},n.clearGameField=function(){console.log(n.state.fields.slice());var t=n.state.fields.slice();if(!0===n.state.won){for(var e=0;e<t.length;e++)t[e].symbol="";n.setState({fields:t,won:!1,winner:"",winnerClass:""},(function(){j.a.database().ref("/").set(n.state)}))}},j.a.apps.length?j.a.app():j.a.initializeApp(O),n.state={fields:[],turn:"O",won:!1,winner:"",winnerClass:"",stats:{wins_O:0,wins_X:0,draws:0}},n.onTick=n.onTick.bind(Object(d.a)(n)),n}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var t=this;j.a.database().ref("/").on("value",(function(e){var s=e.val();t.setState(s,(function(){t.checkWin()}))}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsxs)("div",{class:"paper",children:[Object(n.jsxs)("div",{class:"lines",children:[Object(n.jsx)(p,{won:this.state.won,turn:this.state.turn}),Object(n.jsxs)("div",{class:"content",children:[Object(n.jsx)(h,{onTic:this.onTick,strikeClass:this.state.winnerClass,fields:this.state.fields}),!0===this.state.won&&Object(n.jsx)("button",{class:"btn-clearField",onClick:this.clearGameField,children:"Clear Field"}),Object(n.jsx)(m,{stats:this.state.stats})]})]}),Object(n.jsx)("div",{class:"holes hole-top"}),Object(n.jsx)("div",{class:"holes hole-middle"}),Object(n.jsx)("div",{class:"holes hole-bottom"})]}),Object(n.jsx)("footer",{class:"footer",children:Object(n.jsx)("p",{children:"@T1m0r 2021"})})]})}}]),s}(a.Component),y=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,35)).then((function(e){var s=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,c=e.getTTFB;s(t),n(t),a(t),i(t),c(t)}))};o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(w,{})}),document.getElementById("root")),y()}},[[34,1,2]]]);
//# sourceMappingURL=main.35c4df0c.chunk.js.map